import{$ as F,a as I,j as r}from"./index-b6d4726d.js";import{_ as v}from"./extends-98964cd2.js";import{r as e}from"./index-ad8e37b4.js";import{$ as f}from"./index-1b3f171e.js";import{$ as k}from"./index-25542281.js";import{$ as L}from"./index-cb864916.js";import{$ as H,a as U,b as A,c as K,d as B}from"./index-03b17e65.js";import{$ as W}from"./index-fc7623f3.js";import{$ as T}from"./index-c83839f6.js";import{$ as G}from"./index-dc32c729.js";import"./_commonjsHelpers-725317a4.js";import"./index-a29557c5.js";import"./index-de5e260d.js";import"./index-6c2c353e.js";let w;const j="HoverCard",[y,ge]=k(j,[H]),E=H(),[q,g]=y(j),V=t=>{const{__scopeHoverCard:n,children:c,open:s,defaultOpen:a,onOpenChange:i,openDelay:$=700,closeDelay:x=300}=t,d=E(n),m=e.useRef(0),l=e.useRef(0),h=e.useRef(!1),p=e.useRef(!1),[b=!1,o]=L({prop:s,defaultProp:a,onChange:i}),u=e.useCallback(()=>{clearTimeout(l.current),m.current=window.setTimeout(()=>o(!0),$)},[$,o]),R=e.useCallback(()=>{clearTimeout(m.current),!h.current&&!p.current&&(l.current=window.setTimeout(()=>o(!1),x))},[x,o]),N=e.useCallback(()=>o(!1),[o]);return e.useEffect(()=>()=>{clearTimeout(m.current),clearTimeout(l.current)},[]),e.createElement(q,{scope:n,open:b,onOpenChange:o,onOpen:u,onClose:R,onDismiss:N,hasSelectionRef:h,isPointerDownOnContentRef:p},e.createElement(U,d,c))},z="HoverCardTrigger",J=e.forwardRef((t,n)=>{const{__scopeHoverCard:c,...s}=t,a=g(z,c),i=E(c);return e.createElement(A,v({asChild:!0},i),e.createElement(F.a,v({"data-state":a.open?"open":"closed"},s,{ref:n,onPointerEnter:f(t.onPointerEnter,_(a.onOpen)),onPointerLeave:f(t.onPointerLeave,_(a.onClose)),onFocus:f(t.onFocus,a.onOpen),onBlur:f(t.onBlur,a.onClose),onTouchStart:f(t.onTouchStart,$=>$.preventDefault())})))}),M="HoverCardPortal",[Q,X]=y(M,{forceMount:void 0}),Y=t=>{const{__scopeHoverCard:n,forceMount:c,children:s,container:a}=t,i=g(M,n);return e.createElement(Q,{scope:n,forceMount:c},e.createElement(T,{present:c||i.open},e.createElement(W,{asChild:!0,container:a},s)))},P="HoverCardContent",Z=e.forwardRef((t,n)=>{const c=X(P,t.__scopeHoverCard),{forceMount:s=c.forceMount,...a}=t,i=g(P,t.__scopeHoverCard);return e.createElement(T,{present:s||i.open},e.createElement(ee,v({"data-state":i.open?"open":"closed"},a,{onPointerEnter:f(t.onPointerEnter,_(i.onOpen)),onPointerLeave:f(t.onPointerLeave,_(i.onClose)),ref:n})))}),ee=e.forwardRef((t,n)=>{const{__scopeHoverCard:c,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:$,...x}=t,d=g(P,c),m=E(c),l=e.useRef(null),h=I(n,l),[p,b]=e.useState(!1);return e.useEffect(()=>{if(p){const o=document.body;return w=o.style.userSelect||o.style.webkitUserSelect,o.style.userSelect="none",o.style.webkitUserSelect="none",()=>{o.style.userSelect=w,o.style.webkitUserSelect=w}}},[p]),e.useEffect(()=>{if(l.current){const o=()=>{b(!1),d.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var u;((u=document.getSelection())===null||u===void 0?void 0:u.toString())!==""&&(d.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",o),()=>{document.removeEventListener("pointerup",o),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!1}}},[d.isPointerDownOnContentRef,d.hasSelectionRef]),e.useEffect(()=>{l.current&&oe(l.current).forEach(u=>u.setAttribute("tabindex","-1"))}),e.createElement(G,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:$,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f(i,o=>{o.preventDefault()}),onDismiss:d.onDismiss},e.createElement(K,v({},m,x,{onPointerDown:f(x.onPointerDown,o=>{o.currentTarget.contains(o.target)&&b(!0),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!0}),ref:h,style:{...x.style,userSelect:p?"text":void 0,WebkitUserSelect:p?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})))}),te=e.forwardRef((t,n)=>{const{__scopeHoverCard:c,...s}=t,a=E(c);return e.createElement(B,v({},a,s,{ref:n}))});function _(t){return n=>n.pointerType==="touch"?void 0:t()}function oe(t){const n=[],c=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;c.nextNode();)n.push(c.currentNode);return n}const re=V,ne=J,ce=Y,ae=Z,se=te,ie=()=>r.jsxs(re,{children:[r.jsx(ne,{asChild:!0,children:r.jsx("a",{href:"https://twitter.com/radix_ui",target:"_blank",rel:"noreferrer noopener",children:r.jsx("img",{src:"https://pbs.twimg.com/profile_images/1337055608613253126/r_eiMp2H_400x400.png",alt:"Radix UI"})})}),r.jsx(ce,{children:r.jsxs(ae,{sideOffset:5,children:[r.jsxs("div",{children:[r.jsx("img",{src:"https://pbs.twimg.com/profile_images/1337055608613253126/r_eiMp2H_400x400.png",alt:"Radix UI"}),r.jsxs("div",{children:[r.jsxs("div",{children:[r.jsx("div",{children:"Radix"}),r.jsx("div",{children:"@radix_ui"})]}),r.jsx("div",{children:"Components, icons, colors, and templates for building high-quality, accessible UI. Free and open-source."}),r.jsxs("div",{children:[r.jsxs("div",{children:[r.jsx("div",{children:"0"})," ",r.jsx("div",{children:"Following"})]}),r.jsxs("div",{children:[r.jsx("div",{children:"2,900"}),r.jsx("div",{children:"Followers"})]})]})]})]}),r.jsx(se,{})]})})]}),we={title:"Radix UI/HoverCard",component:ie},C={args:{}};var O,S,D;C.parameters={...C.parameters,docs:{...(O=C.parameters)==null?void 0:O.docs,source:{originalSource:`{
  args: {}
}`,...(D=(S=C.parameters)==null?void 0:S.docs)==null?void 0:D.source}}};const Pe=["Default"];export{C as Default,Pe as __namedExportsOrder,we as default};
//# sourceMappingURL=index.stories-ad533189.js.map
