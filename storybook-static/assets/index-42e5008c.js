import{_}from"./extends-98964cd2.js";import{r as t}from"./index-ad8e37b4.js";import{$ as v}from"./index-1b3f171e.js";import{$ as De}from"./index-f730bee5.js";import{a as k,$ as F,c as ke,b as Fe,d as Ae}from"./index-b6d4726d.js";import{$ as Ke}from"./index-25542281.js";import{$ as Le}from"./index-e5b7b6af.js";import{$ as Ge}from"./index-dc32c729.js";import{h as Ne,a as Ue,b as Ve,$ as Be}from"./index-041dc4ce.js";import{$ as de}from"./index-21bbdcc0.js";import{$ as fe,a as $e,b as Ye,c as Xe,d as je}from"./index-03b17e65.js";import{$ as We}from"./index-fc7623f3.js";import{$ as j}from"./index-c83839f6.js";import{$ as pe,a as ze,b as He}from"./index-d225e6fb.js";import{$ as Q}from"./index-a29557c5.js";const q=["Enter"," "],Ze=["ArrowDown","PageUp","Home"],me=["ArrowUp","PageDown","End"],qe=[...Ze,...me],Je={ltr:[...q,"ArrowRight"],rtl:[...q,"ArrowLeft"]},Qe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},W="Menu",[y,et,tt]=De(W),[P,zt]=Ke(W,[tt,fe,pe]),A=fe(),be=pe(),[ve,M]=P(W),[nt,K]=P(W),ct=e=>{const{__scopeMenu:c,open:n=!1,children:o,dir:s,onOpenChange:r,modal:i=!0}=e,$=A(c),[p,m]=t.useState(null),d=t.useRef(!1),a=Q(r),l=Le(s);return t.useEffect(()=>{const f=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),t.createElement($e,$,t.createElement(ve,{scope:c,open:n,onOpenChange:a,content:p,onContentChange:m},t.createElement(nt,{scope:c,onClose:t.useCallback(()=>a(!1),[a]),isUsingKeyboardRef:d,dir:l,modal:i},o)))},_e=t.forwardRef((e,c)=>{const{__scopeMenu:n,...o}=e,s=A(n);return t.createElement(Ye,_({},s,o,{ref:c}))}),Ee="MenuPortal",[ot,ge]=P(Ee,{forceMount:void 0}),rt=e=>{const{__scopeMenu:c,forceMount:n,children:o,container:s}=e,r=M(Ee,c);return t.createElement(ot,{scope:c,forceMount:n},t.createElement(j,{present:n||r.open},t.createElement(We,{asChild:!0,container:s},o)))},C="MenuContent",[at,ee]=P(C),st=t.forwardRef((e,c)=>{const n=ge(C,e.__scopeMenu),{forceMount:o=n.forceMount,...s}=e,r=M(C,e.__scopeMenu),i=K(C,e.__scopeMenu);return t.createElement(y.Provider,{scope:e.__scopeMenu},t.createElement(j,{present:o||r.open},t.createElement(y.Slot,{scope:e.__scopeMenu},i.modal?t.createElement(ut,_({},s,{ref:c})):t.createElement(it,_({},s,{ref:c})))))}),ut=t.forwardRef((e,c)=>{const n=M(C,e.__scopeMenu),o=t.useRef(null),s=k(c,o);return t.useEffect(()=>{const r=o.current;if(r)return Ne(r)},[]),t.createElement(te,_({},e,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:v(e.onFocusOutside,r=>r.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),it=t.forwardRef((e,c)=>{const n=M(C,e.__scopeMenu);return t.createElement(te,_({},e,{ref:c,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),te=t.forwardRef((e,c)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,disableOutsidePointerEvents:$,onEntryFocus:p,onEscapeKeyDown:m,onPointerDownOutside:d,onFocusOutside:a,onInteractOutside:l,onDismiss:f,disableOutsideScroll:b,...g}=e,w=M(C,n),S=K(C,n),L=A(n),G=be(n),oe=et(n),[we,re]=t.useState(null),N=t.useRef(null),Ie=k(c,N,w.onContentChange),U=t.useRef(0),V=t.useRef(""),Se=t.useRef(0),z=t.useRef(null),ae=t.useRef("right"),H=t.useRef(0),Te=b?Be:t.Fragment,Oe=b?{as:Fe,allowPinchZoom:!0}:void 0,ye=u=>{var E,h;const R=V.current+u,T=oe().filter(x=>!x.disabled),Z=document.activeElement,se=(E=T.find(x=>x.ref.current===Z))===null||E===void 0?void 0:E.textValue,B=T.map(x=>x.textValue),O=Tt(B,R,se),ue=(h=T.find(x=>x.textValue===O))===null||h===void 0?void 0:h.ref.current;(function x(ie){V.current=ie,window.clearTimeout(U.current),ie!==""&&(U.current=window.setTimeout(()=>x(""),1e3))})(R),ue&&setTimeout(()=>ue.focus())};t.useEffect(()=>()=>window.clearTimeout(U.current),[]),Ue();const I=t.useCallback(u=>{var E,h;return ae.current===((E=z.current)===null||E===void 0?void 0:E.side)&&yt(u,(h=z.current)===null||h===void 0?void 0:h.area)},[]);return t.createElement(at,{scope:n,searchRef:V,onItemEnter:t.useCallback(u=>{I(u)&&u.preventDefault()},[I]),onItemLeave:t.useCallback(u=>{var E;I(u)||((E=N.current)===null||E===void 0||E.focus(),re(null))},[I]),onTriggerLeave:t.useCallback(u=>{I(u)&&u.preventDefault()},[I]),pointerGraceTimerRef:Se,onPointerGraceIntentChange:t.useCallback(u=>{z.current=u},[])},t.createElement(Te,Oe,t.createElement(Ve,{asChild:!0,trapped:s,onMountAutoFocus:v(r,u=>{var E;u.preventDefault(),(E=N.current)===null||E===void 0||E.focus()}),onUnmountAutoFocus:i},t.createElement(Ge,{asChild:!0,disableOutsidePointerEvents:$,onEscapeKeyDown:m,onPointerDownOutside:d,onFocusOutside:a,onInteractOutside:l,onDismiss:f},t.createElement(ze,_({asChild:!0},G,{dir:S.dir,orientation:"vertical",loop:o,currentTabStopId:we,onCurrentTabStopIdChange:re,onEntryFocus:v(p,u=>{S.isUsingKeyboardRef.current||u.preventDefault()})}),t.createElement(Xe,_({role:"menu","aria-orientation":"vertical","data-state":Pe(w.open),"data-radix-menu-content":"",dir:S.dir},L,g,{ref:Ie,style:{outline:"none",...g.style},onKeyDown:v(g.onKeyDown,u=>{const h=u.target.closest("[data-radix-menu-content]")===u.currentTarget,R=u.ctrlKey||u.altKey||u.metaKey,T=u.key.length===1;h&&(u.key==="Tab"&&u.preventDefault(),!R&&T&&ye(u.key));const Z=N.current;if(u.target!==Z||!qe.includes(u.key))return;u.preventDefault();const B=oe().filter(O=>!O.disabled).map(O=>O.ref.current);me.includes(u.key)&&B.reverse(),It(B)}),onBlur:v(e.onBlur,u=>{u.currentTarget.contains(u.target)||(window.clearTimeout(U.current),V.current="")}),onPointerMove:v(e.onPointerMove,D(u=>{const E=u.target,h=H.current!==u.clientX;if(u.currentTarget.contains(E)&&h){const R=u.clientX>H.current?"right":"left";ae.current=R,H.current=u.clientX}}))})))))))}),dt=t.forwardRef((e,c)=>{const{__scopeMenu:n,...o}=e;return t.createElement(F.div,_({role:"group"},o,{ref:c}))}),lt=t.forwardRef((e,c)=>{const{__scopeMenu:n,...o}=e;return t.createElement(F.div,_({},o,{ref:c}))}),J="MenuItem",le="menu.itemSelect",ne=t.forwardRef((e,c)=>{const{disabled:n=!1,onSelect:o,...s}=e,r=t.useRef(null),i=K(J,e.__scopeMenu),$=ee(J,e.__scopeMenu),p=k(c,r),m=t.useRef(!1),d=()=>{const a=r.current;if(!n&&a){const l=new CustomEvent(le,{bubbles:!0,cancelable:!0});a.addEventListener(le,f=>o==null?void 0:o(f),{once:!0}),Ae(a,l),l.defaultPrevented?m.current=!1:i.onClose()}};return t.createElement(he,_({},s,{ref:p,disabled:n,onClick:v(e.onClick,d),onPointerDown:a=>{var l;(l=e.onPointerDown)===null||l===void 0||l.call(e,a),m.current=!0},onPointerUp:v(e.onPointerUp,a=>{var l;m.current||(l=a.currentTarget)===null||l===void 0||l.click()}),onKeyDown:v(e.onKeyDown,a=>{const l=$.searchRef.current!=="";n||l&&a.key===" "||q.includes(a.key)&&(a.currentTarget.click(),a.preventDefault())})}))}),he=t.forwardRef((e,c)=>{const{__scopeMenu:n,disabled:o=!1,textValue:s,...r}=e,i=ee(J,n),$=be(n),p=t.useRef(null),m=k(c,p),[d,a]=t.useState(!1),[l,f]=t.useState("");return t.useEffect(()=>{const b=p.current;if(b){var g;f(((g=b.textContent)!==null&&g!==void 0?g:"").trim())}},[r.children]),t.createElement(y.ItemSlot,{scope:n,disabled:o,textValue:s??l},t.createElement(He,_({asChild:!0},$,{focusable:!o}),t.createElement(F.div,_({role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0},r,{ref:m,onPointerMove:v(e.onPointerMove,D(b=>{o?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus())})),onPointerLeave:v(e.onPointerLeave,D(b=>i.onItemLeave(b))),onFocus:v(e.onFocus,()=>a(!0)),onBlur:v(e.onBlur,()=>a(!1))}))))}),ft=t.forwardRef((e,c)=>{const{checked:n=!1,onCheckedChange:o,...s}=e;return t.createElement(xe,{scope:e.__scopeMenu,checked:n},t.createElement(ne,_({role:"menuitemcheckbox","aria-checked":X(n)?"mixed":n},s,{ref:c,"data-state":ce(n),onSelect:v(s.onSelect,()=>o==null?void 0:o(X(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),$t="MenuRadioGroup",[pt,mt]=P($t,{value:void 0,onValueChange:()=>{}}),bt=t.forwardRef((e,c)=>{const{value:n,onValueChange:o,...s}=e,r=Q(o);return t.createElement(pt,{scope:e.__scopeMenu,value:n,onValueChange:r},t.createElement(dt,_({},s,{ref:c})))}),vt="MenuRadioItem",_t=t.forwardRef((e,c)=>{const{value:n,...o}=e,s=mt(vt,e.__scopeMenu),r=n===s.value;return t.createElement(xe,{scope:e.__scopeMenu,checked:r},t.createElement(ne,_({role:"menuitemradio","aria-checked":r},o,{ref:c,"data-state":ce(r),onSelect:v(o.onSelect,()=>{var i;return(i=s.onValueChange)===null||i===void 0?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})))}),Ce="MenuItemIndicator",[xe,Et]=P(Ce,{checked:!1}),gt=t.forwardRef((e,c)=>{const{__scopeMenu:n,forceMount:o,...s}=e,r=Et(Ce,n);return t.createElement(j,{present:o||X(r.checked)||r.checked===!0},t.createElement(F.span,_({},s,{ref:c,"data-state":ce(r.checked)})))}),ht=t.forwardRef((e,c)=>{const{__scopeMenu:n,...o}=e;return t.createElement(F.div,_({role:"separator","aria-orientation":"horizontal"},o,{ref:c}))}),Ct=t.forwardRef((e,c)=>{const{__scopeMenu:n,...o}=e,s=A(n);return t.createElement(je,_({},s,o,{ref:c}))}),Me="MenuSub",[xt,Re]=P(Me),Mt=e=>{const{__scopeMenu:c,children:n,open:o=!1,onOpenChange:s}=e,r=M(Me,c),i=A(c),[$,p]=t.useState(null),[m,d]=t.useState(null),a=Q(s);return t.useEffect(()=>(r.open===!1&&a(!1),()=>a(!1)),[r.open,a]),t.createElement($e,i,t.createElement(ve,{scope:c,open:o,onOpenChange:a,content:m,onContentChange:d},t.createElement(xt,{scope:c,contentId:de(),triggerId:de(),trigger:$,onTriggerChange:p},n)))},Y="MenuSubTrigger",Rt=t.forwardRef((e,c)=>{const n=M(Y,e.__scopeMenu),o=K(Y,e.__scopeMenu),s=Re(Y,e.__scopeMenu),r=ee(Y,e.__scopeMenu),i=t.useRef(null),{pointerGraceTimerRef:$,onPointerGraceIntentChange:p}=r,m={__scopeMenu:e.__scopeMenu},d=t.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return t.useEffect(()=>d,[d]),t.useEffect(()=>{const a=$.current;return()=>{window.clearTimeout(a),p(null)}},[$,p]),t.createElement(_e,_({asChild:!0},m),t.createElement(he,_({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":Pe(n.open)},e,{ref:ke(c,s.onTriggerChange),onClick:a=>{var l;(l=e.onClick)===null||l===void 0||l.call(e,a),!(e.disabled||a.defaultPrevented)&&(a.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:v(e.onPointerMove,D(a=>{r.onItemEnter(a),!a.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(r.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:v(e.onPointerLeave,D(a=>{var l;d();const f=(l=n.content)===null||l===void 0?void 0:l.getBoundingClientRect();if(f){var b;const g=(b=n.content)===null||b===void 0?void 0:b.dataset.side,w=g==="right",S=w?-5:5,L=f[w?"left":"right"],G=f[w?"right":"left"];r.onPointerGraceIntentChange({area:[{x:a.clientX+S,y:a.clientY},{x:L,y:f.top},{x:G,y:f.top},{x:G,y:f.bottom},{x:L,y:f.bottom}],side:g}),window.clearTimeout($.current),$.current=window.setTimeout(()=>r.onPointerGraceIntentChange(null),300)}else{if(r.onTriggerLeave(a),a.defaultPrevented)return;r.onPointerGraceIntentChange(null)}})),onKeyDown:v(e.onKeyDown,a=>{const l=r.searchRef.current!=="";if(!(e.disabled||l&&a.key===" ")&&Je[o.dir].includes(a.key)){var f;n.onOpenChange(!0),(f=n.content)===null||f===void 0||f.focus(),a.preventDefault()}})})))}),Pt="MenuSubContent",wt=t.forwardRef((e,c)=>{const n=ge(C,e.__scopeMenu),{forceMount:o=n.forceMount,...s}=e,r=M(C,e.__scopeMenu),i=K(C,e.__scopeMenu),$=Re(Pt,e.__scopeMenu),p=t.useRef(null),m=k(c,p);return t.createElement(y.Provider,{scope:e.__scopeMenu},t.createElement(j,{present:o||r.open},t.createElement(y.Slot,{scope:e.__scopeMenu},t.createElement(te,_({id:$.contentId,"aria-labelledby":$.triggerId},s,{ref:m,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var a;i.isUsingKeyboardRef.current&&((a=p.current)===null||a===void 0||a.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:v(e.onFocusOutside,d=>{d.target!==$.trigger&&r.onOpenChange(!1)}),onEscapeKeyDown:v(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:v(e.onKeyDown,d=>{const a=d.currentTarget.contains(d.target),l=Qe[i.dir].includes(d.key);if(a&&l){var f;r.onOpenChange(!1),(f=$.trigger)===null||f===void 0||f.focus(),d.preventDefault()}})})))))});function Pe(e){return e?"open":"closed"}function X(e){return e==="indeterminate"}function ce(e){return X(e)?"indeterminate":e?"checked":"unchecked"}function It(e){const c=document.activeElement;for(const n of e)if(n===c||(n.focus(),document.activeElement!==c))return}function St(e,c){return e.map((n,o)=>e[(c+o)%e.length])}function Tt(e,c,n){const s=c.length>1&&Array.from(c).every(m=>m===c[0])?c[0]:c,r=n?e.indexOf(n):-1;let i=St(e,Math.max(r,0));s.length===1&&(i=i.filter(m=>m!==n));const p=i.find(m=>m.toLowerCase().startsWith(s.toLowerCase()));return p!==n?p:void 0}function Ot(e,c){const{x:n,y:o}=e;let s=!1;for(let r=0,i=c.length-1;r<c.length;i=r++){const $=c[r].x,p=c[r].y,m=c[i].x,d=c[i].y;p>o!=d>o&&n<(m-$)*(o-p)/(d-p)+$&&(s=!s)}return s}function yt(e,c){if(!c)return!1;const n={x:e.clientX,y:e.clientY};return Ot(n,c)}function D(e){return c=>c.pointerType==="mouse"?e(c):void 0}const Ht=ct,Zt=_e,qt=rt,Jt=st,Qt=lt,en=ne,tn=ft,nn=bt,cn=_t,on=gt,rn=ht,an=Ct,sn=Mt,un=Rt,dn=wt;export{zt as $,Ht as a,Zt as b,qt as c,Jt as d,Qt as e,en as f,tn as g,nn as h,cn as i,on as j,rn as k,sn as l,un as m,dn as n,an as o};
//# sourceMappingURL=index-42e5008c.js.map
