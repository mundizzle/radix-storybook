import{$ as T,a as j,d as Q,c as we,j as c}from"./index-b6d4726d.js";import{r as e,c as Ee}from"./index-ad8e37b4.js";import{_}from"./extends-98964cd2.js";import{$ as Ce}from"./index-25542281.js";import{$ as M}from"./index-1b3f171e.js";import{$ as Re}from"./index-cb864916.js";import{$ as Me}from"./index-e5b7b6af.js";import{$ as V}from"./index-c83839f6.js";import{$ as ue}from"./index-21bbdcc0.js";import{$ as le}from"./index-f730bee5.js";import{$ as _e}from"./index-dc32c729.js";import{$ as Ne}from"./index-2990ac02.js";import{$ as U}from"./index-de5e260d.js";import{$ as A}from"./index-a29557c5.js";import{$ as ye}from"./index-f617d252.js";import{f as ee}from"./react-icons.esm-e665ab3e.js";import"./_commonjsHelpers-725317a4.js";const k="NavigationMenu",[Y,de,Te]=le(k),[B,Ie,Pe]=le(k),[Z,wt]=Ce(k,[Te,Pe]),[Se,y]=Z(k),[De,Ae]=Z(k),Oe=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:a,value:r,onValueChange:o,defaultValue:i,delayDuration:s=200,skipDelayDuration:v=300,orientation:u="horizontal",dir:E,...l}=t,[g,C]=e.useState(null),h=j(n,m=>C(m)),b=Me(E),p=e.useRef(0),x=e.useRef(0),R=e.useRef(0),[I,f]=e.useState(!0),[$="",d]=Re({prop:r,onChange:m=>{const D=m!=="",z=v>0;D?(window.clearTimeout(R.current),z&&f(!1)):(window.clearTimeout(R.current),R.current=window.setTimeout(()=>f(!0),v)),o==null||o(m)},defaultProp:i}),w=e.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>d(""),150)},[d]),N=e.useCallback(m=>{window.clearTimeout(x.current),d(m)},[d]),S=e.useCallback(m=>{$===m?window.clearTimeout(x.current):p.current=window.setTimeout(()=>{window.clearTimeout(x.current),d(m)},s)},[$,d,s]);return e.useEffect(()=>()=>{window.clearTimeout(p.current),window.clearTimeout(x.current),window.clearTimeout(R.current)},[]),e.createElement(je,{scope:a,isRootMenu:!0,value:$,dir:b,orientation:u,rootNavigationMenu:g,onTriggerEnter:m=>{window.clearTimeout(p.current),I?S(m):N(m)},onTriggerLeave:()=>{window.clearTimeout(p.current),w()},onContentEnter:()=>window.clearTimeout(x.current),onContentLeave:w,onItemSelect:m=>{d(D=>D===m?"":m)},onItemDismiss:()=>d("")},e.createElement(T.nav,_({"aria-label":"Main","data-orientation":u,dir:b},l,{ref:h})))}),je=t=>{const{scope:n,isRootMenu:a,rootNavigationMenu:r,dir:o,orientation:i,children:s,value:v,onItemSelect:u,onItemDismiss:E,onTriggerEnter:l,onTriggerLeave:g,onContentEnter:C,onContentLeave:h}=t,[b,p]=e.useState(null),[x,R]=e.useState(new Map),[I,f]=e.useState(null);return e.createElement(Se,{scope:n,isRootMenu:a,rootNavigationMenu:r,value:v,previousValue:Ne(v),baseId:ue(),dir:o,orientation:i,viewport:b,onViewportChange:p,indicatorTrack:I,onIndicatorTrackChange:f,onTriggerEnter:A(l),onTriggerLeave:A(g),onContentEnter:A(C),onContentLeave:A(h),onItemSelect:A(u),onItemDismiss:A(E),onViewportContentChange:e.useCallback(($,d)=>{R(w=>(w.set($,d),new Map(w)))},[]),onViewportContentRemove:e.useCallback($=>{R(d=>d.has($)?(d.delete($),new Map(d)):d)},[])},e.createElement(Y.Provider,{scope:n},e.createElement(De,{scope:n,items:x},s)))},ke="NavigationMenuList",Fe=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:a,...r}=t,o=y(ke,a),i=e.createElement(T.ul,_({"data-orientation":o.orientation},r,{ref:n}));return e.createElement(T.div,{style:{position:"relative"},ref:o.onIndicatorTrackChange},e.createElement(Y.Slot,{scope:a},o.isRootMenu?e.createElement(pe,{asChild:!0},i):i))}),Le="NavigationMenuItem",[Ke,fe]=Z(Le),Ve=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:a,value:r,...o}=t,i=ue(),s=r||i||"LEGACY_REACT_AUTO_VALUE",v=e.useRef(null),u=e.useRef(null),E=e.useRef(null),l=e.useRef(()=>{}),g=e.useRef(!1),C=e.useCallback((b="start")=>{if(v.current){l.current();const p=H(v.current);p.length&&J(b==="start"?p:p.reverse())}},[]),h=e.useCallback(()=>{if(v.current){const b=H(v.current);b.length&&(l.current=Xe(b))}},[]);return e.createElement(Ke,{scope:a,value:s,triggerRef:u,contentRef:v,focusProxyRef:E,wasEscapeCloseRef:g,onEntryKeyDown:C,onFocusProxyEnter:C,onRootContentClose:h,onContentFocusOutside:h},e.createElement(T.li,_({},o,{ref:n})))}),te="NavigationMenuTrigger",ze=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:a,disabled:r,...o}=t,i=y(te,t.__scopeNavigationMenu),s=fe(te,t.__scopeNavigationMenu),v=e.useRef(null),u=j(v,s.triggerRef,n),E=be(i.baseId,s.value),l=he(i.baseId,s.value),g=e.useRef(!1),C=e.useRef(!1),h=s.value===i.value;return e.createElement(e.Fragment,null,e.createElement(Y.ItemSlot,{scope:a,value:s.value},e.createElement(ge,{asChild:!0},e.createElement(T.button,_({id:E,disabled:r,"data-disabled":r?"":void 0,"data-state":X(h),"aria-expanded":h,"aria-controls":l},o,{ref:u,onPointerEnter:M(t.onPointerEnter,()=>{C.current=!1,s.wasEscapeCloseRef.current=!1}),onPointerMove:M(t.onPointerMove,K(()=>{r||C.current||s.wasEscapeCloseRef.current||g.current||(i.onTriggerEnter(s.value),g.current=!0)})),onPointerLeave:M(t.onPointerLeave,K(()=>{r||(i.onTriggerLeave(),g.current=!1)})),onClick:M(t.onClick,()=>{i.onItemSelect(s.value),C.current=h}),onKeyDown:M(t.onKeyDown,b=>{const x={horizontal:"ArrowDown",vertical:i.dir==="rtl"?"ArrowLeft":"ArrowRight"}[i.orientation];h&&b.key===x&&(s.onEntryKeyDown(),b.preventDefault())})})))),h&&e.createElement(e.Fragment,null,e.createElement(ye,{"aria-hidden":!0,tabIndex:0,ref:s.focusProxyRef,onFocus:b=>{const p=s.contentRef.current,x=b.relatedTarget,R=x===v.current,I=p==null?void 0:p.contains(x);(R||!I)&&s.onFocusProxyEnter(R?"start":"end")}}),i.viewport&&e.createElement("span",{"aria-owns":l})))}),ne="navigationMenu.linkSelect",Ge=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:a,active:r,onSelect:o,...i}=t;return e.createElement(ge,{asChild:!0},e.createElement(T.a,_({"data-active":r?"":void 0,"aria-current":r?"page":void 0},i,{ref:n,onClick:M(t.onClick,s=>{const v=s.target,u=new CustomEvent(ne,{bubbles:!0,cancelable:!0});if(v.addEventListener(ne,E=>o==null?void 0:o(E),{once:!0}),Q(v,u),!u.defaultPrevented&&!s.metaKey){const E=new CustomEvent(L,{bubbles:!0,cancelable:!0});Q(v,E)}},{checkForDefaultPrevented:!1})})))}),ve="NavigationMenuIndicator",Ue=e.forwardRef((t,n)=>{const{forceMount:a,...r}=t,o=y(ve,t.__scopeNavigationMenu),i=!!o.value;return o.indicatorTrack?Ee.createPortal(e.createElement(V,{present:a||i},e.createElement(Be,_({},r,{ref:n}))),o.indicatorTrack):null}),Be=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:a,...r}=t,o=y(ve,a),i=de(a),[s,v]=e.useState(null),[u,E]=e.useState(null),l=o.orientation==="horizontal",g=!!o.value;e.useEffect(()=>{var h;const p=(h=i().find(x=>x.value===o.value))===null||h===void 0?void 0:h.ref.current;p&&v(p)},[i,o.value]);const C=()=>{s&&E({size:l?s.offsetWidth:s.offsetHeight,offset:l?s.offsetLeft:s.offsetTop})};return W(s,C),W(o.indicatorTrack,C),u?e.createElement(T.div,_({"aria-hidden":!0,"data-state":g?"visible":"hidden","data-orientation":o.orientation},r,{ref:n,style:{position:"absolute",...l?{left:0,width:u.size+"px",transform:`translateX(${u.offset}px)`}:{top:0,height:u.size+"px",transform:`translateY(${u.offset}px)`},...r.style}})):null}),O="NavigationMenuContent",He=e.forwardRef((t,n)=>{const{forceMount:a,...r}=t,o=y(O,t.__scopeNavigationMenu),i=fe(O,t.__scopeNavigationMenu),s=j(i.contentRef,n),v=i.value===o.value,u={value:i.value,triggerRef:i.triggerRef,focusProxyRef:i.focusProxyRef,wasEscapeCloseRef:i.wasEscapeCloseRef,onContentFocusOutside:i.onContentFocusOutside,onRootContentClose:i.onRootContentClose,...r};return o.viewport?e.createElement(We,_({forceMount:a},u,{ref:s})):e.createElement(V,{present:a||v},e.createElement($e,_({"data-state":X(v)},u,{ref:s,onPointerEnter:M(t.onPointerEnter,o.onContentEnter),onPointerLeave:M(t.onPointerLeave,K(o.onContentLeave)),style:{pointerEvents:!v&&o.isRootMenu?"none":void 0,...u.style}})))}),We=e.forwardRef((t,n)=>{const a=y(O,t.__scopeNavigationMenu),{onViewportContentChange:r,onViewportContentRemove:o}=a;return U(()=>{r(t.value,{ref:n,...t})},[t,n,r]),U(()=>()=>o(t.value),[t.value,o]),null}),L="navigationMenu.rootContentDismiss",$e=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:a,value:r,triggerRef:o,focusProxyRef:i,wasEscapeCloseRef:s,onRootContentClose:v,onContentFocusOutside:u,...E}=t,l=y(O,a),g=e.useRef(null),C=j(g,n),h=be(l.baseId,r),b=he(l.baseId,r),p=de(a),x=e.useRef(null),{onItemDismiss:R}=l;e.useEffect(()=>{const f=g.current;if(l.isRootMenu&&f){const $=()=>{var d;R(),v(),f.contains(document.activeElement)&&((d=o.current)===null||d===void 0||d.focus())};return f.addEventListener(L,$),()=>f.removeEventListener(L,$)}},[l.isRootMenu,t.value,o,R,v]);const I=e.useMemo(()=>{const $=p().map(D=>D.value);l.dir==="rtl"&&$.reverse();const d=$.indexOf(l.value),w=$.indexOf(l.previousValue),N=r===l.value,S=w===$.indexOf(r);if(!N&&!S)return x.current;const m=(()=>{if(d!==w){if(N&&w!==-1)return d>w?"from-end":"from-start";if(S&&d!==-1)return d>w?"to-start":"to-end"}return null})();return x.current=m,m},[l.previousValue,l.value,l.dir,p,r]);return e.createElement(pe,{asChild:!0},e.createElement(_e,_({id:b,"aria-labelledby":h,"data-motion":I,"data-orientation":l.orientation},E,{ref:C,onDismiss:()=>{var f;const $=new Event(L,{bubbles:!0,cancelable:!0});(f=g.current)===null||f===void 0||f.dispatchEvent($)},onFocusOutside:M(t.onFocusOutside,f=>{var $;u();const d=f.target;($=l.rootNavigationMenu)!==null&&$!==void 0&&$.contains(d)&&f.preventDefault()}),onPointerDownOutside:M(t.onPointerDownOutside,f=>{var $;const d=f.target,w=p().some(S=>{var m;return(m=S.ref.current)===null||m===void 0?void 0:m.contains(d)}),N=l.isRootMenu&&(($=l.viewport)===null||$===void 0?void 0:$.contains(d));(w||N||!l.isRootMenu)&&f.preventDefault()}),onKeyDown:M(t.onKeyDown,f=>{const $=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!$){const N=H(f.currentTarget),S=document.activeElement,m=N.findIndex(xe=>xe===S),z=f.shiftKey?N.slice(0,m).reverse():N.slice(m+1,N.length);if(J(z))f.preventDefault();else{var w;(w=i.current)===null||w===void 0||w.focus()}}}),onEscapeKeyDown:M(t.onEscapeKeyDown,f=>{s.current=!0})})))}),me="NavigationMenuViewport",qe=e.forwardRef((t,n)=>{const{forceMount:a,...r}=t,i=!!y(me,t.__scopeNavigationMenu).value;return e.createElement(V,{present:a||i},e.createElement(Ye,_({},r,{ref:n})))}),Ye=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:a,children:r,...o}=t,i=y(me,a),s=j(n,i.onViewportChange),v=Ae(O,t.__scopeNavigationMenu),[u,E]=e.useState(null),[l,g]=e.useState(null),C=u?(u==null?void 0:u.width)+"px":void 0,h=u?(u==null?void 0:u.height)+"px":void 0,b=!!i.value,p=b?i.value:i.previousValue;return W(l,()=>{l&&E({width:l.offsetWidth,height:l.offsetHeight})}),e.createElement(T.div,_({"data-state":X(b),"data-orientation":i.orientation},o,{ref:s,style:{pointerEvents:!b&&i.isRootMenu?"none":void 0,["--radix-navigation-menu-viewport-width"]:C,["--radix-navigation-menu-viewport-height"]:h,...o.style},onPointerEnter:M(t.onPointerEnter,i.onContentEnter),onPointerLeave:M(t.onPointerLeave,K(i.onContentLeave))}),Array.from(v.items).map(([R,{ref:I,forceMount:f,...$}])=>{const d=p===R;return e.createElement(V,{key:R,present:f||d},e.createElement($e,_({},$,{ref:we(I,w=>{d&&w&&g(w)})})))}))}),Ze="FocusGroup",pe=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:a,...r}=t,o=y(Ze,a);return e.createElement(B.Provider,{scope:a},e.createElement(B.Slot,{scope:a},e.createElement(T.div,_({dir:o.dir},r,{ref:n}))))}),oe=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],Je="FocusGroupItem",ge=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:a,...r}=t,o=Ie(a),i=y(Je,a);return e.createElement(B.ItemSlot,{scope:a},e.createElement(T.button,_({},r,{ref:n,onKeyDown:M(t.onKeyDown,s=>{if(["Home","End",...oe].includes(s.key)){let u=o().map(g=>g.ref.current);if([i.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(s.key)&&u.reverse(),oe.includes(s.key)){const g=u.indexOf(s.currentTarget);u=u.slice(g+1)}setTimeout(()=>J(u)),s.preventDefault()}})})))});function H(t){const n=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)n.push(a.currentNode);return n}function J(t){const n=document.activeElement;return t.some(a=>a===n?!0:(a.focus(),document.activeElement!==n))}function Xe(t){return t.forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")}),()=>{t.forEach(n=>{const a=n.dataset.tabindex;n.setAttribute("tabindex",a)})}}function W(t,n){const a=A(n);U(()=>{let r=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(a)});return o.observe(t),()=>{window.cancelAnimationFrame(r),o.unobserve(t)}}},[t,a])}function X(t){return t?"open":"closed"}function be(t,n){return`${t}-trigger-${n}`}function he(t,n){return`${t}-content-${n}`}function K(t){return n=>n.pointerType==="mouse"?t(n):void 0}const Qe=Oe,et=Fe,G=Ve,re=ze,q=Ge,tt=Ue,ae=He,nt=qe,ot=()=>c.jsxs(Qe,{children:[c.jsxs(et,{children:[c.jsxs(G,{children:[c.jsxs(re,{children:["Learn ",c.jsx(ee,{"aria-hidden":!0})]}),c.jsx(ae,{children:c.jsxs("ul",{children:[c.jsx("li",{children:c.jsx(q,{asChild:!0,children:c.jsxs("a",{href:"/",children:[c.jsxs("svg",{"aria-hidden":!0,width:"38",height:"38",viewBox:"0 0 25 25",fill:"white",children:[c.jsx("path",{d:"M12 25C7.58173 25 4 21.4183 4 17C4 12.5817 7.58173 9 12 9V25Z"}),c.jsx("path",{d:"M12 0H4V8H12V0Z"}),c.jsx("path",{d:"M17 8C19.2091 8 21 6.20914 21 4C21 1.79086 19.2091 0 17 0C14.7909 0 13 1.79086 13 4C13 6.20914 14.7909 8 17 8Z"})]}),c.jsx("div",{children:"Radix Primitives"}),c.jsx("p",{children:"Unstyled, accessible components for React."})]})})}),c.jsx(P,{href:"https://stitches.dev/",title:"Stitches",children:"CSS-in-JS with best-in-class developer experience."}),c.jsx(P,{href:"/colors",title:"Colors",children:"Beautiful, thought-out palettes with auto dark mode."}),c.jsx(P,{href:"https://icons.radix-ui.com/",title:"Icons",children:"A crisp set of 15x15 icons, balanced and consistent."})]})})]}),c.jsxs(G,{children:[c.jsxs(re,{children:["Overview ",c.jsx(ee,{"aria-hidden":!0})]}),c.jsx(ae,{children:c.jsxs("ul",{children:[c.jsx(P,{title:"Introduction",href:"/docs/primitives/overview/introduction",children:"Build high-quality, accessible design systems and web apps."}),c.jsx(P,{title:"Getting started",href:"/docs/primitives/overview/getting-started",children:"A quick tutorial to get you up and running with Radix Primitives."}),c.jsx(P,{title:"Styling",href:"/docs/primitives/guides/styling",children:"Unstyled and compatible with any styling solution."}),c.jsx(P,{title:"Animation",href:"/docs/primitives/guides/animation",children:"Use CSS keyframes or any animation library of your choice."}),c.jsx(P,{title:"Accessibility",href:"/docs/primitives/overview/accessibility",children:"Tested in a range of browsers and assistive technologies."}),c.jsx(P,{title:"Releases",href:"/docs/primitives/overview/releases",children:"Radix Primitives releases and their changelogs."})]})})]}),c.jsx(G,{children:c.jsx(q,{href:"https://github.com/radix-ui",children:"Github"})}),c.jsx(tt,{children:c.jsx("div",{})})]}),c.jsx("div",{children:c.jsx(nt,{})})]}),P=e.forwardRef(({children:t,title:n,...a},r)=>c.jsx("li",{children:c.jsx(q,{asChild:!0,children:c.jsxs("a",{...a,ref:r,children:[c.jsx("div",{children:n}),c.jsx("p",{children:t})]})})})),Et={title:"Radix UI/NavigationMenu",component:ot},F={args:{}};var ie,se,ce;F.parameters={...F.parameters,docs:{...(ie=F.parameters)==null?void 0:ie.docs,source:{originalSource:`{
  args: {}
}`,...(ce=(se=F.parameters)==null?void 0:se.docs)==null?void 0:ce.source}}};const Ct=["Default"];export{F as Default,Ct as __namedExportsOrder,Et as default};
//# sourceMappingURL=index.stories-61290d64.js.map
