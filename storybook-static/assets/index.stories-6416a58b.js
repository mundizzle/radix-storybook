import{$ as l,j as c}from"./index-b6d4726d.js";import{_ as m}from"./extends-98964cd2.js";import{r as t}from"./index-ad8e37b4.js";import{$ as S}from"./index-25542281.js";import{$ as L}from"./index-a29557c5.js";import{$ as E}from"./index-de5e260d.js";import"./_commonjsHelpers-725317a4.js";const h="Avatar",[w,J]=S(h),[j,_]=w(h),C=t.forwardRef((a,n)=>{const{__scopeAvatar:r,...e}=a,[o,s]=t.useState("idle");return t.createElement(j,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:s},t.createElement(l.span,m({},e,{ref:n})))}),I="AvatarImage",M=t.forwardRef((a,n)=>{const{__scopeAvatar:r,src:e,onLoadingStatusChange:o=()=>{},...s}=a,i=_(I,r),d=D(e),f=L(b=>{o(b),i.onImageLoadingStatusChange(b)});return E(()=>{d!=="idle"&&f(d)},[d,f]),d==="loaded"?t.createElement(l.img,m({},s,{ref:n,src:e})):null}),R="AvatarFallback",P=t.forwardRef((a,n)=>{const{__scopeAvatar:r,delayMs:e,...o}=a,s=_(R,r),[i,d]=t.useState(e===void 0);return t.useEffect(()=>{if(e!==void 0){const f=window.setTimeout(()=>d(!0),e);return()=>window.clearTimeout(f)}},[e]),i&&s.imageLoadingStatus!=="loaded"?t.createElement(l.span,m({},o,{ref:n})):null});function D(a){const[n,r]=t.useState("idle");return t.useEffect(()=>{if(!a){r("error");return}let e=!0;const o=new window.Image,s=i=>()=>{e&&r(i)};return r("loading"),o.onload=s("loaded"),o.onerror=s("error"),o.src=a,()=>{e=!1}},[a]),n}const u=C,g=M,p=P,T=()=>c.jsxs("div",{children:[c.jsxs(u,{children:[c.jsx(g,{src:"https://images.unsplash.com/photo-1492633423870-43d1cd2775eb?&w=128&h=128&dpr=2&q=80",alt:"Colm Tuite"}),c.jsx(p,{delayMs:600,children:"CT"})]}),c.jsxs(u,{children:[c.jsx(g,{src:"https://images.unsplash.com/photo-1511485977113-f34c92461ad9?ixlib=rb-1.2.1&w=128&h=128&dpr=2&q=80",alt:"Pedro Duarte"}),c.jsx(p,{delayMs:600,children:"JD"})]}),c.jsx(u,{children:c.jsx(p,{children:"PD"})})]}),K={title:"Radix UI/Avatar",component:T},$={args:{}};var x,v,A;$.parameters={...$.parameters,docs:{...(x=$.parameters)==null?void 0:x.docs,source:{originalSource:`{
  args: {}
}`,...(A=(v=$.parameters)==null?void 0:v.docs)==null?void 0:A.source}}};const O=["Default"];export{$ as Default,O as __namedExportsOrder,K as default};
//# sourceMappingURL=index.stories-6416a58b.js.map
