import{a as _,$ as R,b as k,j as r}from"./index-b6d4726d.js";import{_ as f}from"./extends-98964cd2.js";import{r as e}from"./index-ad8e37b4.js";import{$ as b}from"./index-1b3f171e.js";import{$ as y}from"./index-25542281.js";import{$ as S}from"./index-dc32c729.js";import{h as T,$ as N,a as H,b as V}from"./index-041dc4ce.js";import{$ as K}from"./index-21bbdcc0.js";import{$ as F,a as L,b as U,c as W,d as G}from"./index-03b17e65.js";import{$ as z}from"./index-fc7623f3.js";import{$ as j}from"./index-c83839f6.js";import{$ as Z}from"./index-cb864916.js";import{M as q,C as B}from"./react-icons.esm-e665ab3e.js";import"./_commonjsHelpers-725317a4.js";import"./index-a29557c5.js";import"./index-de5e260d.js";import"./index-6c2c353e.js";const w="Popover",[A,Ie]=y(w,[F]),g=F(),[J,u]=A(w),Q=o=>{const{__scopePopover:i,children:n,open:d,defaultOpen:t,onOpenChange:c,modal:a=!1}=o,s=g(i),p=e.useRef(null),[$,m]=e.useState(!1),[h=!1,l]=Z({prop:d,defaultProp:t,onChange:c});return e.createElement(L,s,e.createElement(J,{scope:i,contentId:K(),triggerRef:p,open:h,onOpenChange:l,onOpenToggle:e.useCallback(()=>l(P=>!P),[l]),hasCustomAnchor:$,onCustomAnchorAdd:e.useCallback(()=>m(!0),[]),onCustomAnchorRemove:e.useCallback(()=>m(!1),[]),modal:a},n))},X="PopoverTrigger",Y=e.forwardRef((o,i)=>{const{__scopePopover:n,...d}=o,t=u(X,n),c=g(n),a=_(i,t.triggerRef),s=e.createElement(R.button,f({type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":I(t.open)},d,{ref:a,onClick:b(o.onClick,t.onOpenToggle)}));return t.hasCustomAnchor?s:e.createElement(U,f({asChild:!0},c),s)}),D="PopoverPortal",[ee,oe]=A(D,{forceMount:void 0}),te=o=>{const{__scopePopover:i,forceMount:n,children:d,container:t}=o,c=u(D,i);return e.createElement(ee,{scope:i,forceMount:n},e.createElement(j,{present:n||c.open},e.createElement(z,{asChild:!0,container:t},d)))},x="PopoverContent",ce=e.forwardRef((o,i)=>{const n=oe(x,o.__scopePopover),{forceMount:d=n.forceMount,...t}=o,c=u(x,o.__scopePopover);return e.createElement(j,{present:d||c.open},c.modal?e.createElement(re,f({},t,{ref:i})):e.createElement(ne,f({},t,{ref:i})))}),re=e.forwardRef((o,i)=>{const n=u(x,o.__scopePopover),d=e.useRef(null),t=_(i,d),c=e.useRef(!1);return e.useEffect(()=>{const a=d.current;if(a)return T(a)},[]),e.createElement(N,{as:k,allowPinchZoom:!0},e.createElement(M,f({},o,{ref:t,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:b(o.onCloseAutoFocus,a=>{var s;a.preventDefault(),c.current||(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:b(o.onPointerDownOutside,a=>{const s=a.detail.originalEvent,p=s.button===0&&s.ctrlKey===!0,$=s.button===2||p;c.current=$},{checkForDefaultPrevented:!1}),onFocusOutside:b(o.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})))}),ne=e.forwardRef((o,i)=>{const n=u(x,o.__scopePopover),d=e.useRef(!1),t=e.useRef(!1);return e.createElement(M,f({},o,{ref:i,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var a;if((a=o.onCloseAutoFocus)===null||a===void 0||a.call(o,c),!c.defaultPrevented){var s;d.current||(s=n.triggerRef.current)===null||s===void 0||s.focus(),c.preventDefault()}d.current=!1,t.current=!1},onInteractOutside:c=>{var a,s;(a=o.onInteractOutside)===null||a===void 0||a.call(o,c),c.defaultPrevented||(d.current=!0,c.detail.originalEvent.type==="pointerdown"&&(t.current=!0));const p=c.target;((s=n.triggerRef.current)===null||s===void 0?void 0:s.contains(p))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&t.current&&c.preventDefault()}}))}),M=e.forwardRef((o,i)=>{const{__scopePopover:n,trapFocus:d,onOpenAutoFocus:t,onCloseAutoFocus:c,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:p,onFocusOutside:$,onInteractOutside:m,...h}=o,l=u(x,n),P=g(n);return H(),e.createElement(V,{asChild:!0,loop:!0,trapped:d,onMountAutoFocus:t,onUnmountAutoFocus:c},e.createElement(S,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:m,onEscapeKeyDown:s,onPointerDownOutside:p,onFocusOutside:$,onDismiss:()=>l.onOpenChange(!1)},e.createElement(W,f({"data-state":I(l.open),role:"dialog",id:l.contentId},P,h,{ref:i,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))}),ae="PopoverClose",se=e.forwardRef((o,i)=>{const{__scopePopover:n,...d}=o,t=u(ae,n);return e.createElement(R.button,f({type:"button"},d,{ref:i,onClick:b(o.onClick,()=>t.onOpenChange(!1))}))}),ie=e.forwardRef((o,i)=>{const{__scopePopover:n,...d}=o,t=g(n);return e.createElement(G,f({},t,d,{ref:i}))});function I(o){return o?"open":"closed"}const de=Q,fe=Y,pe=te,le=ce,ue=se,$e=ie,be=()=>r.jsxs(de,{children:[r.jsx(fe,{asChild:!0,children:r.jsx("button",{"aria-label":"Update dimensions",children:r.jsx(q,{})})}),r.jsx(pe,{children:r.jsxs(le,{sideOffset:5,children:[r.jsxs("div",{children:[r.jsx("p",{children:"Dimensions"}),r.jsxs("fieldset",{children:[r.jsx("label",{htmlFor:"width",children:"Width"}),r.jsx("input",{id:"width",defaultValue:"100%"})]}),r.jsxs("fieldset",{children:[r.jsx("label",{htmlFor:"maxWidth",children:"Max. width"}),r.jsx("input",{id:"maxWidth",defaultValue:"300px"})]}),r.jsxs("fieldset",{children:[r.jsx("label",{htmlFor:"height",children:"Height"}),r.jsx("input",{id:"height",defaultValue:"25px"})]}),r.jsxs("fieldset",{children:[r.jsx("label",{htmlFor:"maxHeight",children:"Max. height"}),r.jsx("input",{id:"maxHeight",defaultValue:"none"})]})]}),r.jsx(ue,{"aria-label":"Close",children:r.jsx(B,{})}),r.jsx($e,{})]})})]}),ke={title:"Radix UI/Popover",component:be},v={args:{}};var C,O,E;v.parameters={...v.parameters,docs:{...(C=v.parameters)==null?void 0:C.docs,source:{originalSource:`{
  args: {}
}`,...(E=(O=v.parameters)==null?void 0:O.docs)==null?void 0:E.source}}};const ye=["Default"];export{v as Default,ye as __namedExportsOrder,ke as default};
//# sourceMappingURL=index.stories-dff8728e.js.map
