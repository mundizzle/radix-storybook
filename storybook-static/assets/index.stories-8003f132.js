import{a as M,$ as k,j as I}from"./index-b6d4726d.js";import{_ as y}from"./extends-98964cd2.js";import{r}from"./index-ad8e37b4.js";import{$ as J}from"./index-6a2b73ba.js";import{$ as _}from"./index-1b3f171e.js";import{$ as le}from"./index-25542281.js";import{$ as fe}from"./index-cb864916.js";import{$ as ue}from"./index-e5b7b6af.js";import{$ as me}from"./index-2990ac02.js";import{$ as $e}from"./index-6c2c353e.js";import{$ as pe}from"./index-f730bee5.js";import"./_commonjsHelpers-725317a4.js";import"./index-a29557c5.js";import"./index-de5e260d.js";const Q=["PageUp","PageDown"],Z=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ee={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},A="Slider",[O,Se,he]=pe(A),[te,tt]=le(A,[he]),[ve,H]=te(A),xe=r.forwardRef((e,t)=>{const{name:o,min:a=0,max:s=100,step:n=1,orientation:d="horizontal",disabled:c=!1,minStepsBetweenThumbs:u=0,defaultValue:$=[a],value:S,onValueChange:i=()=>{},onValueCommit:l=()=>{},inverted:g=!1,...v}=e,[p,h]=r.useState(null),w=M(t,m=>h(m)),P=r.useRef(new Set),f=r.useRef(0),E=d==="horizontal",C=p?!!p.closest("form"):!0,j=E?be:ge,[x=[],ie]=fe({prop:S,defaultProp:$,onChange:m=>{var b;(b=[...P.current][f.current])===null||b===void 0||b.focus(),i(m)}}),F=r.useRef(x);function se(m){const b=Ce(x,m);K(m,b)}function ce(m){K(m,f.current)}function de(){const m=F.current[f.current];x[f.current]!==m&&l(x)}function K(m,b,{commit:B}={commit:!1}){const U=Ae(n),z=Be(Math.round((m-a)/n)*n+a,U),V=J(z,[a,s]);ie((R=[])=>{const D=_e(R,V,b);if(Ie(D,u*n)){f.current=D.indexOf(V);const N=String(D)!==String(R);return N&&B&&l(D),N?D:R}else return R})}return r.createElement(ve,{scope:e.__scopeSlider,disabled:c,min:a,max:s,valueIndexToChangeRef:f,thumbs:P.current,values:x,orientation:d},r.createElement(O.Provider,{scope:e.__scopeSlider},r.createElement(O.Slot,{scope:e.__scopeSlider},r.createElement(j,y({"aria-disabled":c,"data-disabled":c?"":void 0},v,{ref:w,onPointerDown:_(v.onPointerDown,()=>{c||(F.current=x)}),min:a,max:s,inverted:g,onSlideStart:c?void 0:se,onSlideMove:c?void 0:ce,onSlideEnd:c?void 0:de,onHomeKeyDown:()=>!c&&K(a,0,{commit:!0}),onEndKeyDown:()=>!c&&K(s,x.length-1,{commit:!0}),onStepKeyDown:({event:m,direction:b})=>{if(!c){const z=Q.includes(m.key)||m.shiftKey&&Z.includes(m.key)?10:1,V=f.current,R=x[V],D=n*z*b;K(R+D,V,{commit:!0})}}})))),C&&x.map((m,b)=>r.createElement(Re,{key:b,name:o?o+(x.length>1?"[]":""):void 0,value:m})))}),[ne,oe]=te(A,{startEdge:"left",endEdge:"right",size:"width",direction:1}),be=r.forwardRef((e,t)=>{const{min:o,max:a,dir:s,inverted:n,onSlideStart:d,onSlideMove:c,onSlideEnd:u,onStepKeyDown:$,...S}=e,[i,l]=r.useState(null),g=M(t,f=>l(f)),v=r.useRef(),p=ue(s),h=p==="ltr",w=h&&!n||!h&&n;function P(f){const E=v.current||i.getBoundingClientRect(),C=[0,E.width],x=L(C,w?[o,a]:[a,o]);return v.current=E,x(f-E.left)}return r.createElement(ne,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width"},r.createElement(ae,y({dir:p,"data-orientation":"horizontal"},S,{ref:g,style:{...S.style,["--radix-slider-thumb-transform"]:"translateX(-50%)"},onSlideStart:f=>{const E=P(f.clientX);d==null||d(E)},onSlideMove:f=>{const E=P(f.clientX);c==null||c(E)},onSlideEnd:()=>{v.current=void 0,u==null||u()},onStepKeyDown:f=>{const C=ee[w?"from-left":"from-right"].includes(f.key);$==null||$({event:f,direction:C?-1:1})}})))}),ge=r.forwardRef((e,t)=>{const{min:o,max:a,inverted:s,onSlideStart:n,onSlideMove:d,onSlideEnd:c,onStepKeyDown:u,...$}=e,S=r.useRef(null),i=M(t,S),l=r.useRef(),g=!s;function v(p){const h=l.current||S.current.getBoundingClientRect(),w=[0,h.height],f=L(w,g?[a,o]:[o,a]);return l.current=h,f(p-h.top)}return r.createElement(ne,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1},r.createElement(ae,y({"data-orientation":"vertical"},$,{ref:i,style:{...$.style,["--radix-slider-thumb-transform"]:"translateY(50%)"},onSlideStart:p=>{const h=v(p.clientY);n==null||n(h)},onSlideMove:p=>{const h=v(p.clientY);d==null||d(h)},onSlideEnd:()=>{l.current=void 0,c==null||c()},onStepKeyDown:p=>{const w=ee[g?"from-bottom":"from-top"].includes(p.key);u==null||u({event:p,direction:w?-1:1})}})))}),ae=r.forwardRef((e,t)=>{const{__scopeSlider:o,onSlideStart:a,onSlideMove:s,onSlideEnd:n,onHomeKeyDown:d,onEndKeyDown:c,onStepKeyDown:u,...$}=e,S=H(A,o);return r.createElement(k.span,y({},$,{ref:t,onKeyDown:_(e.onKeyDown,i=>{i.key==="Home"?(d(i),i.preventDefault()):i.key==="End"?(c(i),i.preventDefault()):Q.concat(Z).includes(i.key)&&(u(i),i.preventDefault())}),onPointerDown:_(e.onPointerDown,i=>{const l=i.target;l.setPointerCapture(i.pointerId),i.preventDefault(),S.thumbs.has(l)?l.focus():a(i)}),onPointerMove:_(e.onPointerMove,i=>{i.target.hasPointerCapture(i.pointerId)&&s(i)}),onPointerUp:_(e.onPointerUp,i=>{const l=i.target;l.hasPointerCapture(i.pointerId)&&(l.releasePointerCapture(i.pointerId),n(i))})}))}),we="SliderTrack",Ee=r.forwardRef((e,t)=>{const{__scopeSlider:o,...a}=e,s=H(we,o);return r.createElement(k.span,y({"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation},a,{ref:t}))}),Y="SliderRange",ye=r.forwardRef((e,t)=>{const{__scopeSlider:o,...a}=e,s=H(Y,o),n=oe(Y,o),d=r.useRef(null),c=M(t,d),u=s.values.length,$=s.values.map(l=>re(l,s.min,s.max)),S=u>1?Math.min(...$):0,i=100-Math.max(...$);return r.createElement(k.span,y({"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0},a,{ref:c,style:{...e.style,[n.startEdge]:S+"%",[n.endEdge]:i+"%"}}))}),X="SliderThumb",De=r.forwardRef((e,t)=>{const o=Se(e.__scopeSlider),[a,s]=r.useState(null),n=M(t,c=>s(c)),d=r.useMemo(()=>a?o().findIndex(c=>c.ref.current===a):-1,[o,a]);return r.createElement(Pe,y({},e,{ref:n,index:d}))}),Pe=r.forwardRef((e,t)=>{const{__scopeSlider:o,index:a,...s}=e,n=H(X,o),d=oe(X,o),[c,u]=r.useState(null),$=M(t,h=>u(h)),S=$e(c),i=n.values[a],l=i===void 0?0:re(i,n.min,n.max),g=Me(a,n.values.length),v=S==null?void 0:S[d.size],p=v?Ke(v,l,d.direction):0;return r.useEffect(()=>{if(c)return n.thumbs.add(c),()=>{n.thumbs.delete(c)}},[c,n.thumbs]),r.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${l}% + ${p}px)`}},r.createElement(O.ItemSlot,{scope:e.__scopeSlider},r.createElement(k.span,y({role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":n.min,"aria-valuenow":i,"aria-valuemax":n.max,"aria-orientation":n.orientation,"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,tabIndex:n.disabled?void 0:0},s,{ref:$,style:i===void 0?{display:"none"}:e.style,onFocus:_(e.onFocus,()=>{n.valueIndexToChangeRef.current=a})}))))}),Re=e=>{const{value:t,...o}=e,a=r.useRef(null),s=me(t);return r.useEffect(()=>{const n=a.current,d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"value").set;if(s!==t&&u){const $=new Event("input",{bubbles:!0});u.call(n,t),n.dispatchEvent($)}},[s,t]),r.createElement("input",y({style:{display:"none"}},o,{ref:a,defaultValue:t}))};function _e(e=[],t,o){const a=[...e];return a[o]=t,a.sort((s,n)=>s-n)}function re(e,t,o){const n=100/(o-t)*(e-t);return J(n,[0,100])}function Me(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Ce(e,t){if(e.length===1)return 0;const o=e.map(s=>Math.abs(s-t)),a=Math.min(...o);return o.indexOf(a)}function Ke(e,t,o){const a=e/2,n=L([0,50],[0,a]);return(a-n(t)*o)*o}function Ve(e){return e.slice(0,-1).map((t,o)=>e[o+1]-t)}function Ie(e,t){if(t>0){const o=Ve(e);return Math.min(...o)>=t}return!0}function L(e,t){return o=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(o-e[0])}}function Ae(e){return(String(e).split(".")[1]||"").length}function Be(e,t){const o=Math.pow(10,t);return Math.round(e*o)/o}const Te=xe,ke=Ee,He=ye,ze=De,Oe=()=>I.jsx("form",{children:I.jsxs(Te,{defaultValue:[50],max:100,step:1,children:[I.jsx(ke,{children:I.jsx(He,{})}),I.jsx(ze,{"aria-label":"Volume"})]})}),nt={title:"Radix UI/Slider",component:Oe},T={args:{}};var G,W,q;T.parameters={...T.parameters,docs:{...(G=T.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: {}
}`,...(q=(W=T.parameters)==null?void 0:W.docs)==null?void 0:q.source}}};const ot=["Default"];export{T as Default,ot as __namedExportsOrder,nt as default};
//# sourceMappingURL=index.stories-8003f132.js.map
